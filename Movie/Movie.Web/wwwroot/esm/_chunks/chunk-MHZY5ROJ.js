import{a as H}from"./chunk-QEONDOH5.js";import{c as t,e as Ye,f as i,g as x,h as P,i as D,j as n}from"./chunk-7V7WNOD5.js";var ae=Ye((lo,Ie)=>{Ie.exports=Serenity.Extensions});var W=i(n(),1);var U=class U extends W.ColumnsBase{};t(U,"GenreColumns"),U.columnsKey="MovieDB.Genre",U.Fields=(0,W.fieldsProxy)();var de=U;var q=i(n(),1);var d=class d{static getLookup(){return(0,q.getLookup)("MovieDB.Genre")}static async getLookupAsync(){return(0,q.getLookupAsync)("MovieDB.Genre")}};t(d,"GenreRow"),d.idProperty="GenreId",d.nameProperty="Name",d.localTextPrefix="MovieDB.Genre",d.lookupKey="MovieDB.Genre",d.deletePermission="Administration:General",d.insertPermission="Administration:General",d.readPermission="Administration:General",d.updatePermission="Administration:General",d.Fields=(0,q.fieldsProxy)();var Y=d;var ue=i(n(),1),ce;(e=>(e.baseUrl="MovieDB/Genre",e.Methods={Create:"MovieDB/Genre/Create",Update:"MovieDB/Genre/Update",Delete:"MovieDB/Genre/Delete",Retrieve:"MovieDB/Genre/Retrieve",List:"MovieDB/Genre/List"},["Create","Update","Delete","Retrieve","List"].forEach(o=>{e[o]=function(a,s,l){return(0,ue.serviceRequest)(e.baseUrl+"/"+o,a,s,l)}})))(ce||(ce={}));var z=i(n(),1);var Re=i(n(),1);var b,A,ve,ne;ve=[Re.Decorators.registerFormatter("MovieTutorial.GenreListFormatter")];var B=class B{format(r){let e=r.value;if(!e||!e.length)return"";let o=b==null?void 0:b.itemById;return o?e.map(a=>{var s=o[a];return r.escape(s==null?a:s.Name)}).join(", "):(A!=null||(A=Y.getLookupAsync().then(a=>{var s;b=a;try{(s=r.grid)==null||s.invalidate()}finally{b=null,A=null}}).catch(()=>A=null)),'<i class="fa fa-spinner"></i>')}};ne=x(null),B=D(ne,0,"GenreListFormatter",ve,B),t(B,"GenreListFormatter"),P(ne,1,B);var j=B;var fe=i(n(),1),I=(o=>(o[o.Film=1]="Film",o[o.TvSeries=2]="TvSeries",o[o.MiniSeries=3]="MiniSeries",o))(I||{});fe.Decorators.registerEnumType(I,"Movie.Modules.MovieDB.Movie.MovieKind","MovieDB.MovieKind");var O=class O extends z.ColumnsBase{};t(O,"MovieColumns"),O.columnsKey="MovieDB.Movie",O.Fields=(0,z.fieldsProxy)();var ye=O;queueMicrotask(()=>[I,j]);var Pe=i(n(),1);var u=class u{};t(u,"MovieRow"),u.idProperty="MovieId",u.nameProperty="Title",u.localTextPrefix="MovieDB.Movie",u.deletePermission="Administration:General",u.insertPermission="Administration:General",u.readPermission="Administration:General",u.updatePermission="Administration:General",u.Fields=(0,Pe.fieldsProxy)();var xe=u;var Me=i(n(),1),De;(e=>(e.baseUrl="MovieDB/Movie",e.Methods={Create:"MovieDB/Movie/Create",Update:"MovieDB/Movie/Update",Delete:"MovieDB/Movie/Delete",Retrieve:"MovieDB/Movie/Retrieve",List:"MovieDB/Movie/List"},["Create","Update","Delete","Retrieve","List"].forEach(o=>{e[o]=function(a,s,l){return(0,Me.serviceRequest)(e.baseUrl+"/"+o,a,s,l)}})))(De||(De={}));var J=i(n(),1);var T=class T extends J.ColumnsBase{};t(T,"PersonColumns"),T.columnsKey="MovieDB.Person",T.Fields=(0,J.fieldsProxy)();var ge=T;queueMicrotask(()=>[H]);var G=i(n(),1);var c=class c{static getLookup(){return(0,G.getLookup)("MovieDB.Person")}static async getLookupAsync(){return(0,G.getLookupAsync)("MovieDB.Person")}};t(c,"PersonRow"),c.idProperty="PersonId",c.nameProperty="FullName",c.localTextPrefix="MovieDB.Person",c.lookupKey="MovieDB.Person",c.deletePermission="Administration:General",c.insertPermission="Administration:General",c.readPermission="Administration:General",c.updatePermission="Administration:General",c.Fields=(0,G.fieldsProxy)();var Q=c;var Se=i(n(),1),Le;(e=>(e.baseUrl="MovieDB/Person",e.Methods={Create:"MovieDB/Person/Create",Update:"MovieDB/Person/Update",Delete:"MovieDB/Person/Delete",Retrieve:"MovieDB/Person/Retrieve",List:"MovieDB/Person/List"},["Create","Update","Delete","Retrieve","List"].forEach(o=>{e[o]=function(a,s,l){return(0,Se.serviceRequest)(e.baseUrl+"/"+o,a,s,l)}})))(Le||(Le={}));var E=i(n(),1);var g=class g extends E.PrefixedContext{constructor(r){if(super(r),!g.init){g.init=!0;var e=E.StringEditor;(0,E.initFormType)(g,["Name",e])}}};t(g,"GenreForm"),g.formKey="MovieDB.Genre";var Ce=g;var X=i(n(),1);var F=class F extends X.ColumnsBase{};t(F,"MovieCastColumns"),F.columnsKey="MovieDB.MovieCast",F.Fields=(0,X.fieldsProxy)();var V=F;var M=i(n(),1);var L=class L extends M.PrefixedContext{constructor(r){if(super(r),!L.init){L.init=!0;var e=M.LookupEditor,o=M.StringEditor;(0,M.initFormType)(L,["PersonId",e,"Character",o])}}};t(L,"MovieCastForm"),L.formKey="MovieDB.MovieCast";var N=L;var qe=i(n(),1);var v=class v{};t(v,"MovieCastRow"),v.idProperty="MovieCastId",v.nameProperty="Character",v.localTextPrefix="MovieDB.MovieCast",v.deletePermission="Administration:General",v.insertPermission="Administration:General",v.readPermission="Administration:General",v.updatePermission="Administration:General",v.Fields=(0,qe.fieldsProxy)();var R=v;var Be=i(n(),1),Z;(e=>(e.baseUrl="MovieDB/MovieCast",e.Methods={Create:"MovieDB/MovieCast/Create",Update:"MovieDB/MovieCast/Update",Delete:"MovieDB/MovieCast/Delete",Retrieve:"MovieDB/MovieCast/Retrieve",List:"MovieDB/MovieCast/List"},["Create","Update","Delete","Retrieve","List"].forEach(o=>{e[o]=function(a,s,l){return(0,Be.serviceRequest)(e.baseUrl+"/"+o,a,s,l)}})))(Z||(Z={}));var p=i(n(),1);var we=i(n(),1),Ue=i(ae(),1);var Ee=i(n(),1);var ke=i(ae(),1);var Ge,pe,je;Ge=[Ee.Decorators.registerClass("Movie.MovieDB.MovieCastDialog")];var k=class k extends(je=ke.GridEditorDialog){constructor(){super(...arguments);this.form=new N(this.idPrefix)}getFormKey(){return N.formKey}getNameProperty(){return R.nameProperty}getLocalTextPrefix(){return R.localTextPrefix}};pe=x(je),k=D(pe,0,"MovieCastEditDialog",Ge,k),t(k,"MovieCastEditDialog"),P(pe,1,k);var $=k;var he,le,ze;he=[we.Decorators.registerEditor("Movie.MovieDB.MovieCastEditor")];var h=class h extends(ze=Ue.GridEditorBase){getColumnsKey(){return V.columnsKey}getLocalTextPrefix(){return R.localTextPrefix}constructor(r){super(r)}getDialogType(){return $}getAddButtonCaption(){return"Add"}validateEntity(r,e){if(!super.validateEntity(r,e))return!1;var o=e!=null?e:r[this.getIdProperty()];return Q.getLookupAsync().then(a=>{var l;var s=(l=this.view)==null?void 0:l.getItemById(o);s&&(s.PersonFullName=a.itemById[r.PersonId].FullName,this.view.updateItem(o,s))}),!0}};le=x(ze),h=D(le,0,"MovieCastEditor",he,h),t(h,"MovieCastEditor"),P(le,1,h);var _=h;var S=class S extends p.PrefixedContext{constructor(r){if(super(r),!S.init){S.init=!0;var e=p.StringEditor,o=p.TextAreaEditor,a=_,s=p.IntegerEditor,l=p.DateEditor,ie=p.EnumEditor,se=p.LookupEditor,He=p.ImageUploadEditor,We=p.MultipleImageUploadEditor;(0,p.initFormType)(S,["Title",e,"Description",o,"CastList",a,"Storyline",o,"Year",s,"ReleaseDate",l,"Runtime",s,"Kind",ie,"GenreList",se,"PrimaryImage",He,"GalleryImages",We])}}};t(S,"MovieForm"),S.formKey="MovieDB.Movie";var be=S;queueMicrotask(()=>[I]);var Oe=i(n(),1);var f=class f{};t(f,"MovieGenresRow"),f.idProperty="MovieGenreId",f.localTextPrefix="MovieDB.MovieGenres",f.deletePermission="Administration:General",f.insertPermission="Administration:General",f.readPermission="Administration:General",f.updatePermission="Administration:General",f.Fields=(0,Oe.fieldsProxy)();var Ae=f;var Fe=i(n(),1),Te;(e=>(e.baseUrl="MovieDB/MovieGenres",e.Methods={Create:"MovieDB/MovieGenres/Create",Update:"MovieDB/MovieGenres/Update",Delete:"MovieDB/MovieGenres/Delete",Retrieve:"MovieDB/MovieGenres/Retrieve",List:"MovieDB/MovieGenres/List"},["Create","Update","Delete","Retrieve","List"].forEach(o=>{e[o]=function(a,s,l){return(0,Fe.serviceRequest)(e.baseUrl+"/"+o,a,s,l)}})))(Te||(Te={}));var m=i(n(),1);var te=i(n(),1);var Ne,me,Je;Ne=[te.Decorators.registerEditor("Movie.MovieDB.PersonMovieGrid")];var w=class w extends(Je=te.EntityGrid){getColumnsKey(){return oe.columnsKey}getRowDefinition(){return R}getService(){return Z.baseUrl}constructor(r){super(r)}getButtons(){return null}getInitialTitle(){return null}usePager(){return!1}getGridCanLoad(){return this.personId!=null}get personId(){return this._personId}set personId(r){this._personId!=r&&(this._personId=r,this.setEquality(R.Fields.PersonId,r),this.refresh())}};me=x(Je),w=D(me,0,"PersonMovieGrid",Ne,w),t(w,"PersonMovieGrid"),P(me,1,w);var ee=w;var C=class C extends m.PrefixedContext{constructor(r){if(super(r),!C.init){C.init=!0;var e=m.StringEditor,o=m.DateEditor,a=m.EnumEditor,s=m.IntegerEditor,l=m.ImageUploadEditor,ie=m.MultipleImageUploadEditor,se=ee;(0,m.initFormType)(C,["FirstName",e,"LastName",e,"BirthDate",o,"BirthPlace",e,"Gender",a,"Height",s,"PrimaryImage",l,"GalleryImages",ie,"MoviesGrid",se])}}};t(C,"PersonForm"),C.formKey="MovieDB.Person";var Ke=C;queueMicrotask(()=>[H]);var re=i(n(),1);var K=class K extends re.ColumnsBase{};t(K,"PersonMovieColumns"),K.columnsKey="Movie.MovieDB.Columns.PersonMovieColumns",K.Fields=(0,re.fieldsProxy)();var oe=K;export{de as a,Ce as b,Y as c,ce as d,ye as e,be as f,xe as g,De as h,ge as i,Ke as j,Q as k,Le as l};
//# sourceMappingURL=chunk-MHZY5ROJ.js.map
